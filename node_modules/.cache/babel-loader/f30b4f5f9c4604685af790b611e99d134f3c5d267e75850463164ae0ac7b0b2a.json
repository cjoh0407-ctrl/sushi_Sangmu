{"ast":null,"code":"import _objectSpread from\"D:/ChangJun/Works/React_1120/sushi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import menuData from'../db/menuData';import MenuItem from'./MenuItem';import Sort from'./Sort';import{Container,Nav}from'react-bootstrap';import{useSearchParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MenuPage=_ref=>{let{menuSort=\"\",onSortChange}=_ref;const[searchParams]=useSearchParams();const categoryParam=searchParams.get('category');const[selectedCategory,setSelectedCategory]=useState(\"전체 메뉴\");const[sortedData,setSortedData]=useState(menuData);useEffect(()=>{if(categoryParam){setSelectedCategory(categoryParam);}},[categoryParam]);const filteredData=selectedCategory===\"전체 메뉴\"?sortedData:sortedData.filter(section=>section.category===selectedCategory);useEffect(()=>{let newSortedData=[...menuData];if(menuSort){newSortedData=newSortedData.map(section=>{if(section.items){const sortedItems=[...section.items];if(menuSort==='low'){sortedItems.sort((a,b)=>a.price-b.price);}else if(menuSort==='high'){sortedItems.sort((a,b)=>b.price-a.price);}else if(menuSort==='name'){sortedItems.sort((a,b)=>(a.name||'').localeCompare(b.name||''));}return _objectSpread(_objectSpread({},section),{},{items:sortedItems});}return section;});}setSortedData(newSortedData);},[menuSort]);return/*#__PURE__*/_jsx(\"div\",{className:\"menu-page py-5\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end mb-3\",children:/*#__PURE__*/_jsx(Sort,{value:menuSort,onChange:onSortChange})}),/*#__PURE__*/_jsx(Nav,{className:\"justify-content-center mb-5 bg-white py-3 \",style:{zIndex:100},children:menuData.map(section=>/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{onClick:()=>setSelectedCategory(section.category),className:\"fw-bold px-3 \".concat(selectedCategory===section.category?'active':'text-dark'),style:{cursor:'pointer',fontSize:'1.1rem',color:selectedCategory===section.category?'#f5426c':undefined,borderBottom:selectedCategory===section.category?'2px solid #f5426c':undefined},children:section.category})},section.id))}),filteredData.map(section=>{if(!section.items||section.items.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{id:\"category-\".concat(section.id),className:\"mb-5 category-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"border-bottom pb-2 mb-4 border-dark\",children:section.category}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:section.items.map(item=>/*#__PURE__*/_jsx(MenuItem,_objectSpread({id:item.id},item),item.id))})]},section.id);})]})});};export default MenuPage;","map":{"version":3,"names":["useState","useEffect","menuData","MenuItem","Sort","Container","Nav","useSearchParams","jsx","_jsx","jsxs","_jsxs","MenuPage","_ref","menuSort","onSortChange","searchParams","categoryParam","get","selectedCategory","setSelectedCategory","sortedData","setSortedData","filteredData","filter","section","category","newSortedData","map","items","sortedItems","sort","a","b","price","name","localeCompare","_objectSpread","className","children","value","onChange","style","zIndex","Item","Link","onClick","concat","cursor","fontSize","color","undefined","borderBottom","id","length","item"],"sources":["D:/ChangJun/Works/React_1120/sushi/src/components/MenuPage.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport menuData from '../db/menuData';\r\nimport MenuItem from './MenuItem';\r\nimport Sort from './Sort';\r\nimport { Container, Nav } from 'react-bootstrap';\r\nimport { useSearchParams } from 'react-router-dom';\r\n\r\nconst MenuPage = ({ menuSort = \"\", onSortChange }) => {\r\n    const [searchParams] = useSearchParams();\r\n    const categoryParam = searchParams.get('category');\r\n\r\n    const [selectedCategory, setSelectedCategory] = useState(\"전체 메뉴\");\r\n    const [sortedData, setSortedData] = useState(menuData);\r\n\r\n        useEffect(() => {\r\n            if (categoryParam) {\r\n                setSelectedCategory(categoryParam);\r\n            }\r\n        }, [categoryParam]);\r\n\r\n    const filteredData = selectedCategory === \"전체 메뉴\"\r\n        ? sortedData\r\n        : sortedData.filter(section => section.category === selectedCategory);\r\n\r\n    useEffect(() => {\r\n        let newSortedData = [...menuData];\r\n\r\n        if (menuSort) {\r\n            newSortedData = newSortedData.map(section => {\r\n                if (section.items) {\r\n                    const sortedItems = [...section.items];\r\n                    if (menuSort === 'low') {\r\n                        sortedItems.sort((a, b) => a.price - b.price);\r\n                    } else if (menuSort === 'high') {\r\n                        sortedItems.sort((a, b) => b.price - a.price);\r\n                    } else if (menuSort === 'name') {\r\n                        sortedItems.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\r\n                    }\r\n                    return { ...section, items: sortedItems };\r\n                }\r\n                return section;\r\n            });\r\n        }\r\n\r\n        setSortedData(newSortedData);\r\n    }, [menuSort]);\r\n\r\n    return (\r\n        <div className=\"menu-page py-5\">\r\n            <Container>\r\n                <div className=\"d-flex justify-content-end mb-3\">\r\n                    <Sort value={menuSort} onChange={onSortChange} />\r\n                </div>\r\n                <Nav className=\"justify-content-center mb-5 bg-white py-3 \" style={{ zIndex: 100 }}>\r\n                    {menuData.map((section) => (\r\n                        <Nav.Item key={section.id}>\r\n                            <Nav.Link\r\n                                onClick={() => setSelectedCategory(section.category)}\r\n                                className={`fw-bold px-3 ${selectedCategory === section.category ? 'active' : 'text-dark'}`}\r\n                                style={{\r\n                                    cursor: 'pointer',\r\n                                    fontSize: '1.1rem',\r\n                                    color: selectedCategory === section.category ? '#f5426c' : undefined,\r\n                                    borderBottom: selectedCategory === section.category ? '2px solid #f5426c' : undefined\r\n                                }}\r\n                            >\r\n                                {section.category}\r\n                            </Nav.Link>\r\n                        </Nav.Item>\r\n                    ))}\r\n                </Nav>\r\n\r\n                {filteredData.map((section) => {\r\n                    if (!section.items || section.items.length === 0) return null;\r\n\r\n                    return (\r\n                        <div id={`category-${section.id}`} key={section.id} className=\"mb-5 category-section\">\r\n                            <h3 className=\"border-bottom pb-2 mb-4 border-dark\">{section.category}</h3>\r\n                            <div className=\"row\">\r\n                                {section.items.map((item) => (\r\n                                    <MenuItem key={item.id} id={item.id} {...item} />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MenuPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}