{"ast":null,"code":"import{useParams,useNavigate}from\"react-router-dom\";import{useMemo}from'react';import{addItem}from'../store.js';import{useDispatch}from'react-redux';import{Button}from'react-bootstrap';import{Link}from'react-router-dom';import menuData from'../db/menuData';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Detail(){const{paramId}=useParams();const navigate=useNavigate();const dispatch=useDispatch();const{selproduct,allProductIds,currentIndex}=useMemo(()=>{let foundProduct=null;const productIds=[];menuData.forEach(section=>{if(section.items){section.items.forEach(item=>{productIds.push(item.id);if(item.id===Number(paramId)){foundProduct=item;}});}});return{selproduct:foundProduct,allProductIds:productIds,currentIndex:productIds.indexOf(Number(paramId))};},[paramId]);if(!selproduct){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uD574\\uB2F9 \\uC0C1\\uD488\\uC774 \\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"});}const{id,name,price,description,image}=selproduct;// 이전 상품으로 이동\nconst handlePrevClick=()=>{if(currentIndex>0){const prevId=allProductIds[currentIndex-1];navigate(\"/detail/\".concat(prevId));}};// 다음 상품으로 이동\nconst handleNextClick=()=>{if(currentIndex<allProductIds.length-1){const nextId=allProductIds[currentIndex+1];navigate(\"/detail/\".concat(nextId));}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"img\",{src:image,width:\"100%\",alt:name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"pt-5\",style:{fontSize:'2rem',padding:30},children:name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.1rem',fontWeight:'light',color:'#504c4cff'},children:description}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'1.5rem',fontWeight:'bold',padding:10},children:[price.toLocaleString(),\"\\uC6D0\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',gap:'20px',marginTop:'20px',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevClick,disabled:currentIndex===0,style:{padding:'10px 20px',fontSize:'1.0rem',cursor:currentIndex===0?'not-allowed':'pointer',opacity:currentIndex===0?0.5:1,backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'5px'},children:\"\\u2190 \\uC774\\uC804 \\uBA54\\uB274\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextClick,disabled:currentIndex===allProductIds.length-1,style:{padding:'10px 20px',fontSize:'1.0rem',cursor:currentIndex===allProductIds.length-1?'not-allowed':'pointer',opacity:currentIndex===allProductIds.length-1?0.5:1,backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'5px'},children:\"\\uB2E4\\uC74C \\uBA54\\uB274 \\u2192\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",variant:\"primary\",onClick:()=>{const imgFile=image.replace(process.env.PUBLIC_URL+'/img/','');dispatch(addItem({id:id,imgurl:imgFile,name:name,count:1,price:price}));},style:{marginRight:\"10px\",fontSize:'1.2rem'},children:\"\\uC8FC\\uBB38\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(Button,{variant:\"success\",style:{fontSize:'1.2rem'},children:\"  \\uC8FC\\uBB38\\uC0C1\\uD488 \\uD655\\uC778\\uD558\\uAE30 \"})})]})]})});}export default Detail;","map":{"version":3,"names":["useParams","useNavigate","useMemo","addItem","useDispatch","Button","Link","menuData","jsx","_jsx","jsxs","_jsxs","Detail","paramId","navigate","dispatch","selproduct","allProductIds","currentIndex","foundProduct","productIds","forEach","section","items","item","push","id","Number","indexOf","children","name","price","description","image","handlePrevClick","prevId","concat","handleNextClick","length","nextId","className","src","width","alt","style","fontSize","padding","fontWeight","color","toLocaleString","display","justifyContent","gap","marginTop","marginBottom","onClick","disabled","cursor","opacity","backgroundColor","border","borderRadius","variant","imgFile","replace","process","env","PUBLIC_URL","imgurl","count","marginRight","to"],"sources":["D:/ChangJun/Works/React_1120/sushi/src/components/Detail.js"],"sourcesContent":["import { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useMemo } from 'react';\r\nimport { addItem } from '../store.js'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom';\r\nimport menuData from '../db/menuData';\r\n\r\n\r\n\r\n\r\nfunction Detail() {\r\n\r\n\r\n    const {paramId} = useParams();\r\n    const navigate = useNavigate(); \r\n    const dispatch = useDispatch(); \r\n\r\n\r\n    const { selproduct, allProductIds, currentIndex } = useMemo(() => {\r\n        let foundProduct = null;\r\n        const productIds = [];\r\n\r\n        menuData.forEach(section => {\r\n            if (section.items) {\r\n                section.items.forEach(item => {\r\n                    productIds.push(item.id);\r\n                    if (item.id === Number(paramId)) {\r\n                        foundProduct = item;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        return {\r\n            selproduct: foundProduct,\r\n            allProductIds: productIds,\r\n            currentIndex: productIds.indexOf(Number(paramId))\r\n        };\r\n    }, [paramId]);\r\n\r\n    if (!selproduct) {\r\n        return <div>해당 상품이 존재하지 않습니다.</div>;\r\n    }\r\n\r\n\r\n    const { id, name, price, description, image } = selproduct;\r\n\r\n\r\n    // 이전 상품으로 이동\r\n    const handlePrevClick = () => {\r\n        if (currentIndex > 0) {\r\n            const prevId = allProductIds[currentIndex - 1];\r\n            navigate(`/detail/${prevId}`);\r\n        }\r\n    };\r\n\r\n    // 다음 상품으로 이동\r\n    const handleNextClick = () => {\r\n        if (currentIndex < allProductIds.length - 1) {\r\n            const nextId = allProductIds[currentIndex + 1];\r\n            navigate(`/detail/${nextId}`);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                    <img src={image} width=\"100%\" alt={name} />\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                    <h5 className=\"pt-5\" style={{ fontSize: '2rem', padding: 30}}>{name}</h5>\r\n                    <p style={{ fontSize: '1.1rem', fontWeight: 'light', color: '#504c4cff'}}>{description}</p>\r\n                    <p style={{ fontSize: '1.5rem', fontWeight: 'bold', padding: 10 }}>{price.toLocaleString()}원</p>\r\n                    \r\n                    <div style={{ display: 'flex', justifyContent: 'center', gap: '20px', marginTop: '20px', marginBottom: '30px' }}>\r\n                        <button \r\n                            onClick={handlePrevClick}\r\n                            disabled={currentIndex === 0}\r\n                            style={{\r\n                                padding: '10px 20px',\r\n                                fontSize: '1.0rem',\r\n                                cursor: currentIndex === 0 ? 'not-allowed' : 'pointer',\r\n                                opacity: currentIndex === 0 ? 0.5 : 1,\r\n                                backgroundColor: '#6c757d',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '5px'\r\n                            }}\r\n                        >\r\n                            ← 이전 메뉴\r\n                        </button>\r\n\r\n                        <button \r\n                            onClick={handleNextClick}\r\n                            disabled={currentIndex === allProductIds.length - 1}\r\n                            style={{\r\n                                padding: '10px 20px',\r\n                                fontSize: '1.0rem',\r\n                                cursor: currentIndex === allProductIds.length - 1 ? 'not-allowed' : 'pointer',\r\n                                opacity: currentIndex === allProductIds.length - 1 ? 0.5 : 1,\r\n                                backgroundColor: '#6c757d',\r\n                                color: 'white',\r\n                                border: 'none',\r\n                                borderRadius: '5px'\r\n                            }}\r\n                        >\r\n                            다음 메뉴 →\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* 주문하기 버튼 */}\r\n                    <button className=\"btn btn-danger\"\r\n                        variant=\"primary\"\r\n                        onClick={() => {\r\n                            const imgFile = image.replace(process.env.PUBLIC_URL + '/img/', '');\r\n\r\n                            dispatch(\r\n                                addItem({\r\n                                    id: id,\r\n                                    imgurl: imgFile,\r\n                                    name: name,\r\n                                    count: 1,\r\n                                    price: price\r\n                                })\r\n                            );\r\n                        }}\r\n                        style={{ marginRight: \"10px\", fontSize: '1.2rem' }}\r\n                    >\r\n                        주문하기\r\n                    </button>\r\n                    <Link to=\"/cart\" >\r\n                        <Button variant=\"success\" style={{ fontSize: '1.2rem' }}>  주문상품 확인하기 </Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Detail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}